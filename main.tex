% Magic Comments
% !TeX spellcheck = en_GB
% !TeX encoding = utf8
% !TeX program = pdflatex

\documentclass[12pt]{amsart}

\title{Mathematical Finance in discrete time}
\author{Elias Mindlberger}
\date{Winter Semester 2025/26}

\input{macros}
\input{style}

\begin{document}

\maketitle

\tableofcontents
\bigskip

\section{Introduction and first example}

We start by introducing the first important notions of option pricing and first examples.

\subsection{Notions for option pricing theory}

An \textbf{option} is a contract beween two parties (a buyer and a seller). The buyer pays an option price \emph{today} (i.e.\ at \(t=0\)) to the seller and in return obtains the right/\emph{option} \underline{but not the obligation} to buy a stock for conditions that are fixed \emph{today} at a fixed point in time (\emph{the maturity of the option}).
The option to buy is thereby crucial: the buyer can just refrain from buying the stock if te market conditions are disadvantageous.

We only consider options whose \emph{underlyings (german: Basistitel)} are stocks.\newpage

We distinguish the following:

\begin{tikzpicture}[>=stealth, thick]
    % Arrows for call and put
    \draw[->] (-3,0) -- (3,2);
    \draw[->] (-3,0) -- (3,-2);

    % Labels
    \node at (4.5,2) {\textbf{Call option}};
    \node at (4.5,-2) {\textbf{Put option}};

    % Text below arrows
    \node[align=left] at (6,1) {Buyer has the right to \underline{buy} \\ the stock for the \emph{strike price} \(K\).};
    \node[align=left] at (6,-3) {Buyer has the right to \underline{sell} \\ the stock for the \emph{strike price} \(K\).};

    % Arrows for call and put
    \draw[->] (-3,-7) -- (3,-5);
    \draw[->] (-3,-7) -- (3,-9);

    % Labels
    \node at (5,-5) {\textbf{European option}};
    \node at (5,-9) {\textbf{American option}};

    % Text below arrows
    \node[align=left] at (6.5,-5.7) {Can only be exercised at maturity \(T\).};
    \node[align=left] at (6.5,-9.7) {Can be exercised at \(t\) s.t.\ \(0 \leq t \leq T\).};
\end{tikzpicture}

We call the above \textbf{standard} or \textbf{vanilla} options. Other options are called \textbf{exotic}. Such include \emph{Asian options} (which operate on the mean--value of an asset), \emph{barrier options}, \emph{options on voatility} and so forth. For this course we assume that options have a price at any point in time \(0 \leq t \leq T\). Advantages of options include
\begin{itemize}
    \item The loss is limited: worst case is the loss of the option price,
    \item leverage effect (in a positive market development),
    \item can be used to \emph{hedge} against decreasing stock prices via put options (can be sold for a fixed pre--determined price).
\end{itemize}

\subsection{A first example}

Let us consider a call option in a two--period market model. We set
\begin{itemize}
    \item \(t=0\): the current time or today,
    \item \(T>0\): the maturity or exercise date of the option,
    \item \(S_T\): random price of the underlying stock at time \(T\),
    \item \(S_0\): known price of the underlying stock at time \(t=0\),
    \item \(K\): the strike price.
\end{itemize}

\begin{remark}
    No physical transaction of the stock at time \(T\) happens. Only the profit is paid out accordingly.
\end{remark}
Clearly, the \textbf{payoff} for a call option at time \(T\) is \[
    H = \max \set{S_T-K, 0} = \left(S_T-K\right)^+.
\]
\(H\) itself is a random variable since \(S_T\) is assumed to be random.


\begin{center}
    \begin{tikzpicture}
        \begin{axis}[
            axis lines=middle,
            samples=200,
            domain=-1:4,
            ymin=-0.5, ymax=3,
            xmin=-1, xmax=4,
            axis line style={->, thick},
            xtick=\empty,
            ytick=\empty,
            xlabel={\(S_T\)},
            ylabel={Payoff},
            width=8cm,
            height=6cm
        ]

        % Dashed part for x < K
        \addplot[blue, ultra thick, dashed, domain=-1:1.5] {0};

        % Solid part for x >= K
        \addplot[blue, ultra thick, domain=1.5:4] {x-1.5};

        % Mark K
        \draw[dashed, gray] (axis cs:1.5,0) -- (axis cs:1.5,1.5);
        \filldraw[black] (axis cs:1.5,0) circle (1.5pt) node[below] {\(K\)};

        % Function label
        \node[blue, above right] at (axis cs:3,1) {\(H\)};

        \end{axis}
    \end{tikzpicture}

    \vspace{0.5em}
    \small\textbf{Figure:} Visualisation of the payoff \(H\) dependent on the strike \(K\).
\end{center}

Take \(S_0=100\) and assume the stock can attain two prices at \(T\). Either it attains \(150\) in the case of \(\omega_1\) or it attains \(90\) in the case of \(\omega_2\), i.e.\ \(S_T(\omega_1) = 150\) and \(S_T(\omega_2) = 90\) with probabilities \(p\) and \(1-p\) respectively. We let \(130\) be the strike \(K\). The payoff is obviously \(20\) and \(0\) respectively. We assume that there is an additional, riskless investment opportunity with interest rate \(r=0\).

\textbf{Question.} What is the fair price \(\pi(H)\) of the above option at \(t=0\)?

\textbf{Idea: No--arbitrage--principle.}
There is no arbitrage (i.e.\ no riskless profit) in the financial market.

The payoff \(H\) is replicated by other assets (in this case stocks and riskless investments).

The initial capital that is needed in order to replicate \(H\) corresponds to the price of the option. Otherwise, there is arbitrage.

We now want to find a \textbf{trading strategy} \((\alpha, \beta) \in \R^2\) with
\begin{itemize}
    \item \(\alpha\), the number of stocks that we buy at \(t=0\),
    \item \(\beta\), the investment in the riskless asset (RA).
\end{itemize}

The value of the portfolio at \(t=0\) is \(V_0(\alpha, \beta) = \beta \cdot 1 + \alpha S_0\) (the RA is normalised) and the value of the portfolio at \(t=T\) is \(V_T(\alpha, \beta) = \beta \cdot 1 + \alpha S_T\) (recall \(r=0\)). We want to \emph{hedge} or \emph{replicate} the payoff, i.e.\ choose \((\alpha, \beta)\) such that \(V_T(\alpha, \beta) = H\). This means \(\beta+\alpha S_T(\omega) = H(\omega)\) for any \(\omega \in \set{\omega_1, \omega_2}\). Hence, we get a system of linear equations.

\begin{align*}
    \beta + 150\alpha &= 20\\
    \beta + 90 \alpha &= -0.
\end{align*}
Solving this for \(\alpha, \beta\) yields \(\alpha=1/3\) and \(\beta=-30\). Hence \[
    V_0(\alpha, \beta) = -30 + 100/3 = 10/3 = \pi(H).
\]
The hedging strategy that we get is to borrow \(30\) today and buy \(1/3\) stocks. The overall investment is \(10/3\). Two scenarios can happen at \(t=T\):
\begin{enumerate}
    \item \(S_T=150\). Selling the stock yields \(1/3 \cdot 150 = 50\). We repay our debt of \(30\) and yield \(20\) as profit.
    \item \(S_T=90\). Selling the stock yields \(1/3 \cdot 90 = 30\). We repay the debt and nothing happens.
\end{enumerate}
As we see, we hedged \(H\) perfectly. Now assume that we \underline{sell} the call option at a price of \(10/3\) and invest. Then, the following can happen.

\begin{enumerate}
    \item \(S_T=150\). The buyer will exercise the call, he or she will buy the stock for \(130\) from us,
    \item we have to buy the stock for \(150\), we lose \(20\),
    \item but we obtain \(20\) as by hedging in (1).
\end{enumerate}

\begin{enumerate}
    \item \(S_T=90\). Goes analogously.
\end{enumerate}

Using the no--arbitrage--principle, the fair price of the option is \(\pi(H)=10/3\). For any other price, a riskless profit would be possible. Assume \(\pi(H) > 10/3\). Then we get the following table:

\begin{table}[h!]
    \centering
        \begin{tabular}{ll}
            \toprule
            \textbf{Action at \(t=0\)} & \textbf{Payoff at \(t=T\)} \\
            \midrule
            Sell \(\pi(H)\) & \(-(S_T-K)^+\)\\
            Borrow \(30\) RA & \(-30\)\\
            Buy \(S_0/3\) & \(S_T/3\)\\
            Profit: \(\pi(H)+30-S_0/3=\pi(H)-10/3>0\) & \(\Sigma=0\) \\
            \bottomrule
        \end{tabular}
    \caption{Unfair pricing shows the possibility of riskless profit.}
\end{table}

Assume now \(\pi(H) < 10/3\). The table goes analogous to the above.

\begin{remark}
    Notice that the fair price \(\pi(H)\) in this example is \textbf{independent} of the subjective probability \(p\)! In more sophisticated models, we will also adapt to this.
\end{remark}

\subsection{Market assumptions}

In this section, we used a perfect market model.
\begin{itemize}
    \item The markets are frictionless, i.e.\ there are no taxes on profits and no transaction costs for reallocating portfolios,
    \item short--selling is allowed at all times and arbitrary shares can be bought and sold,
    \item interest rates for borrowing and lending are te same as well as investments in RA,
    \item there are no dividend payments,
    \item all market participants are rational and maximise their utility.
\end{itemize}

In a perfect market there is no arbitrage. Supply and demand offset each other perfectly and there are unique prices.

\section{Financial markets and the finite state space}

Our goal here is to introduce general financial markets. Finite means that there is a finite number of market states and a finite number of trading times \(\set{0, \dots, T}\). We describe trading strategies, arbitrage strategies and options formally.

\subsection{Definition of the financial market}

We take \((\Omega, \cF, (\cF_t)_{t}, \P)\) to be a filtered probability space. I.e.\
\begin{itemize}
    \item \(\Omega\) is a finite state space of elementary events,
    \item \(\cF\) is the power set of \(\Omega\) and acts as the \(\sigma\)-algebra,
    \item \((\cF_t)_t\) is a filtration,
    \item \(\P: \cF \to [0, 1]\) is a probability measure.
\end{itemize}

\begin{remark}
    We remark that for a probability space \((\Omega, \cF, \P)\) and an \underline{ordered} index set \(I\), a family of \(\cF\)-sub-\(\sigma\)-algebras \((\cF_i)_{i \in I}\) is a filtration if and only if for any \(t, s \in I: t \leq s \implies \cF_t \subseteq \cF_s\). Since our index sets \(I\) are always finite with maximal element \(T\), we make the additional presumption that \(\cF = \cF_T\).
\end{remark}

A \textbf{financial market} consists of \(d+1\) investment opportunities: one \textbf{riskless asset} with a deterministic price process \((B_t) = (B_0, \dots, B_T)\), i.e.\ imagine a savings account such that \(B_0 = 1\) and \(B_{t+1} \geq B_t\) for \(t = 1, \dots, T\). \(B_t\) is the value at the time \(t\) of \(1\) such unit that has been invested at \(t=0\), e.g.\ \(B_t = (1+r)^t\) for interest rate \(r \geq 0\).

A \textbf{risky asset} with stochastic processes \((S_t^k) = (S_0^k, \dots, S_T^k)\) and \(S_t^k(\omega) > 0\) for \(k = 1, \dots, d\) and \(t = 0, \dots, T\) and all \(\omega \in \Omega\). We define for \(t=0, 1, \dots, T\) \(S_t\) as \[
    S_t \defn (S_t^1, \dots, S^d_t).
\]
For example, imagine these to be \emph{stock prices} -- \(S_t^k\) is the price of stock \(k\) at time \(t\). The processes \((S_t^k)\) are assumed to be adapted \((k=1, \dots, d)\) to the filtration given, i.e.\ \((\cF_t)\). Hence \[
    \cF_t^S \subset \cF_t, \quad\text{where}\quad \cF_t^S = \sigma(S_0, \dots, S_t)
\]
is the \(\sigma\)-algebra generated by \((S_t)\) up to \(t\).

\begin{remark}[Repetition]
    \(\cF_t^X \defn \sigma(\set{X_s \mid s \leq t})\) for all \(t \in I\) is the \(\sigma\)-algebra generated by the stochastic process \(X\) itself.
\end{remark}

We can invest in the assets above and trade them, for this we define a trading strategy.

\begin{definition}[Trading Strategy]
    A trading strategy (a portfolio) is a \(\R^{d+1}\)-valued, \((\cF_t)\)-adapted stochastic process \(\phi = (\phi_0, \dots, \phi_{T-1})\), i.e. \(\phi_t\) is \(\cF_t\)-measurable and \(\phi_t = (\alpha_t, \beta_t)\) for \(t=0, \dots, T-1\).
\end{definition}
\begin{remark}
    In practice:
    \begin{itemize}
        \item \(\beta_t\) is the quantity of the riskless asset that is held in time period \([t, t+1)\) and
        \item \(\alpha_t = (\alpha_t^1, \dots, \alpha_t^d)\) where \(\alpha_t^k\) is the quantity of the risky asset \(k\) that is held in \([t, t+1)\),
        \item we denote \(\beta = (\beta_0, \dots, \beta_{T-1})\) and \(\alpha = (\alpha_0, \dots, \alpha_{T-1})\).
    \end{itemize}
\end{remark}
\begin{remark}[Repetition]
    A real-valued stochastic process is a mapping \(X: I \times \Omega \to \R\) such that \(X(t, \cdot): \Omega \to \R\) is measurable for every \(t \in I\), i.e.\ a sequence of real-valued random variables. For \(\omega \in \Omega\) fixed, \(t \mapsto X_t(\omega)\) is a called a \emph{path} of \(X\).
\end{remark}

\textbf{Adapted trading strategy.} If a trading strategy \(\phi\) is adapted, it means that \(\beta_t = \beta_t(S_0, \dots, S_t)\) and \(\alpha_t^k = \alpha_t^k(S_0, \dots, S_t)\) are functions of the prices \(S_0, \dots, S_t\). Investors thus observe prices up to time \(t\) and choose -- based on this information -- a new composition of \(\phi_t\) of the portfolio at time \(t\) which is then held until \(t+1\).

The information about the price processes is included in the filtration \((\cF_t^S) \subset (\cF_t)\).

We call the value of a trading strategy also a \emph{wealth process}.

\begin{definition}[Wealth process]
    The value of a trading strategy \(\phi\) at times \(t=0, \dots, T-1\) is given by \[
        V_t^\phi = \beta_t B_t + \alpha_t \cdot S_t = \beta_t B_t + \sum_{k=1}^d \alpha_t^k S_t^k.
    \]
    Moreover, we let \(V_T^\phi = \beta_{T-1} B_T + \alpha_{T-1} S_T\).
\end{definition}
\begin{remark}
    \(\beta_t B_t + \alpha_t \cdot S_t\) is the value of the trading strategy immediately after it has been recomposed. Change in the market values due to price changes are then \[
        \beta_{t-1} (B_t - B_{t-1}) + \alpha_{t-1} \cdot (S_t-S_{t-1}).
    \]
\end{remark}

\begin{definition}[Self-financing]
    A trading strategy is called self-financing if for \(t=1, \dots, T-1\)
    \begin{equation}\label{eq:selfFinancing}
        \beta_{t-1} B_t + \alpha_{t-1} \cdot S_t = \beta_t B_t + \alpha_t \cdot S_t.
    \end{equation}
\end{definition}

\begin{remark}[Explanation]
    When the investor observes the new prices \(B_t, S_t\), she adjusts the trading strategy from \(\phi_{t-1}\) to \(\phi_t\) without adding or assuming additional wealth. Thus, \eqref{eq:selfFinancing} must hold.
\end{remark}

\emph{We show:} For a self-financing trading strategy \(\phi = (\alpha, \beta)\), this is equivalent to knowing \((V_0^\phi, \alpha)\) and hence \(\beta\) can be determined from \eqref{eq:selfFinancing}.

Denote the set of trading strategies of risky assets as \[
    \cA \defn \set{\alpha = (\alpha_0, \dots, \alpha_{T-1}) : \alpha_t \text{ is } \cF_t\text{--measurable for } t=0, \dots, T-1}
\]

Hence if the initial wealth \(V_0^\phi\) is known, every \(\alpha \in \cA\) can be complemented in a self-financing way.

\begin{remark}[Notation]
    \(\Delta X_t = X_t - X_{t-1}\), \(\Delta \alpha_t = (\Delta \alpha_t^1, \dots, \Delta \alpha_t^d)\).
\end{remark}

\begin{lemma}
    Let \(\phi\) be self-financing. Then we have \[
        \beta_t = \beta_0 - \sum_{k=1}^t \Delta \alpha_n \frac{S_n}{B_n} = V_0^\phi - \sum_{k=0}^t \Delta \alpha_n \frac{S_n}{B_n},
    \]
    for \(t=0, \dots, T-1\) where \(\Delta \alpha_0^k \defn \alpha_0^k\) for \(k=1, \dots, d\).
\end{lemma}
\begin{proof}
    Let \(t=0\), then \(V_0^\phi = \beta_0 B_0 + \alpha_0 \cdot S_0 = \beta_0 + \alpha_0 \cdot S_0\) by normalising \(B_0 = 1\). Hence \[
        \beta_0 = V_0^\phi - \alpha_0 \frac{S_0}{B_0} = V_0^\phi - \Delta \alpha_0 \frac{S_0}{B_0}.
    \]
    Let \(t \in \set{1, \dots, T-1}\), then, since \((\alpha, \beta)\) is self-financing, we get \[
        \beta_t B_t + \alpha_t \cdot S_t = \beta_{t-1} B_t + \alpha_{t-1} \cdot S_t \iff (\beta_t-\beta_{t-1}) B_t = -(\alpha_t - \alpha_{t-1}) \cdot S_t
    \]
    and hence \(\Delta \beta_t = - \Delta \alpha_t \frac{S_t}{B_t}\).
    This implies \[
        \beta_t = \beta_0 + \sum_{n=1}^t \Delta \beta_n = \beta_0 - \sum_{n=1}^t \Delta \alpha_n \frac{S_n}{B_n} = V_0^\phi - \Delta \alpha_0 \frac{S_0}{B_0} - \sum_{n=1}^t \Delta \alpha_n \frac{S_n}{B_n}.\qedhere
    \]
\end{proof}

\begin{definition}[Discounted stock price]
    \(\tilde{S}_t^k \defn \frac{S_t^k}{B_t}\) is the discounted stock price of risky asset \(k\) at \(t\).
\end{definition}

\begin{lemma}
    Let \(\phi\) be self-financing. Then we have \[
        \frac{V_t^\phi}{B_t} = V_0^\phi + \sum_{n=1}^t \alpha_{n-1} \Delta \tilde{S}_n.
    \]
\end{lemma}
\begin{proof}
    As \(\phi\) is self-financing, we have
    \begin{align*}
        \frac{V_n^\phi}{B_n} - \frac{V_{n-1}^\phi}{B_{n-1}}
        &= \frac{1}{B_n}\left( \beta_n B_n + \alpha_n \cdot S_n \right) - \frac{1}{B_{n-1}}\left( \beta_{n-1} B_{n-1} + \alpha_{n-1} \cdot S_{n-1} \right)\\
        &\stackrel{\text{SF}}{=} \frac{1}{B_n} \left( \beta_{n-1} B_n + \alpha_{n-1} S_n \right) - \frac{1}{B_{n-1}} \left( \beta_{n-1} B_{n-1} + \alpha_{n-1} \cdot S_{n-1} \right)\\
        &= \underbrace{\beta_{n-1}-\beta_{n-1}}_{=0} + \alpha_{n-1} \left( \frac{S_n}{B_n} - \frac{S_{n-1}}{B_{n-1}} \right)\\
        &= \alpha_{n-1} \Delta \tilde{S}_n.
    \end{align*}
    We have that with \(B_0 = 1\): \[
        \frac{V_t^\phi}{B_t} = \frac{V_0^\phi}{B_0} + \sum_{n=1}^t \left( \frac{V_n^\phi}{B_n} - \frac{V_{n-1}^\phi}{B_{n-1}} \right) = V_0^\phi + \sum_{n=1}^t \alpha_{n-1} \Delta \tilde{S}_n.\qedhere
    \]
\end{proof}

\begin{definition}[Gains Process]
    For a trading strategy \(\alpha \in \cA\), the process \((G_t^\alpha)\), defined by \[
        G_0^\alpha = 0 \quad \text{and} \quad G_t^\alpha = \sum_{n=1}^t \alpha_{n-1}  \cdot \Delta \tilde{S}_n, \quad t=1, \dots, T
    \]
    is called the \textbf{gains process}.
\end{definition}

\textbf{No-arbitrage-principle.}

\begin{definition}[Arbitrage Strategy]
    Let \(\phi\) be self-financing. \(\phi\) is called arbitrage strategy if \[
        V_0^\phi = 0, \quad \P(V_T^\phi \geq 0) = 1 \quad \text{and}\quad \P(V_T^\phi > 0) > 0.
    \]
\end{definition}
\begin{remark}
    We say that there is an arbitrage opportunity if such an arbitrage strategy exists. (NA) means that there is no arbitrage opportunity.

    Recall that \(\P(\set{\omega}) > 0\) for any \(\omega \in \Omega\) by definition of our financial market. Thus \[
        \P(V_T^\phi \geq 0) = 1 \iff V_T^\phi(\omega) \geq 0 \quad \text{for any} \quad \omega \in \Omega.
    \]
    Moreover, \[
        \P(V_T^\phi > 0) > 0 \iff \exists \omega \in \Omega: V_T^\phi(\omega) > 0.
    \]
\end{remark}

We know from before that \[
    \frac{V_T^\phi}{B_T} = V_0^\phi + G_T^\alpha, \quad \phi = (\alpha, \beta)
\]
where \(\phi\) is self-financing. Now, an arbitrage strategy exists if and only if there exists a trading strategy \(\phi\) with \(V_0^\phi = 0\) and \(\P(G_T^\alpha \geq 0) = 1\) and \(\P(G_T^\alpha > 0) > 0\).

In words, the next theorem tells us that a financial market is globally free of arbitrage if and only if it is locally free of arbitrage.

\begin{theorem}{}{}{}
    The following are equivalent.
    \begin{itemize}
        \item There exists an arbitrage strategy.
        \item There exists a \(t \in \set{1, \dots, T}\) and a \(\cF_{t-1}\)-measurable random vector \(\eta: \Omega \to \R^{d}\) such that \(\P(\eta \cdot (\tilde{S}_t - \tilde{S}_{t-1}) \geq 0) = 1\) and \(\P(\eta \cdot (\tilde{S}_t - \tilde{S}_{t-1}) > 0) > 0\). Here, \(\eta\) depends on \(t\).
    \end{itemize}
\end{theorem}
\begin{proof}
    Let \(\phi = (\alpha, \beta)\) be an arbitrage strategy with wealth process \((V_t^\phi)\) and let \[
        t = \min\set{m \in \N \mid \P(V_m^\phi \geq 0) = 1 \text{ and } \P(V_m^\phi > 0) > 0}.
    \]
    Then \(t \leq T\) and \underline{either} (a) \(\P(V_{t+1}^\phi = 0) = 1\) \underline{or} (b) \(\P(V_{t-1}^\phi < 0) > 0\). In case of (a), we have \[
        \alpha_{t-1} \cdot (\tilde{S}_t - \tilde{S}_{t-1}) = \frac{V_T^\phi}{B_t} - \frac{V_{t-1}^\phi}{B_{t-1}} = \frac{V_t^\phi}{B_t} \geq 0.
    \]
    Using \(\eta = \alpha_{t-1}\) we obtain \(\P(\eta \cdot (\tilde{S}_t - \tilde{S}_{t-1}) > 0) > 0\) for some development of \(S_t\) and moreover \(\P(\eta \cdot (\tilde{S}_n - \tilde{S}_{n-1}) \geq 0) = 1\). In case (b) we get by \[
        \eta = \alpha_{t-1} \chi_{\set{V_{t-1}^\phi < 0}}
    \]
    that \[
        \eta \cdot (\tilde{S}_t - \tilde{S}_{t-1}) = \left(\frac{V_t^\phi}{B_t} - \frac{V_{t-1}^\phi}{B_{t-1}}\right) \cdot \chi_{V_{t-1}^\phi < 0} \geq \frac{V_t^\phi}{B_t} \chi_{V_{t-1}^\phi < 0}
    \]
    and hence \(\P(\eta \cdot (\tilde{S}_t - \tilde{S}_{t-1}) \geq 0) = 1\) and \(\P(\eta \cdot (\tilde{S}_t - \tilde{S}_{t-1}) > 0) > 0\).

    Now the backward direction. Define a trading strategy \(\phi = (\alpha, \beta)\) by \[
        \alpha_m = \begin{cases}
            \eta, &m=t-1\\
            0, &\text{else}.
        \end{cases}
    \]
    \(\alpha\) can be completed to a self-financing trading strategy  with \(V_0^\phi = 0\). By the previous lemmas, \[
        \frac{V_T^\phi}{B_T} = V_0^\phi + \sum_{n=1}^t \alpha_{n-1}\Delta \tilde{S}_n = \eta \cdot (\tilde{S}_n - \tilde{S}_{n-1}).
    \]
    Moreover, using the assertion we get \(\P(\eta \cdot (\tilde{S}_t - \tilde{S}_{t-1}) \geq 0) = 1 = \P(V_T^\phi/B_T \geq 0)\) and \(\P(\eta \cdot (\tilde{S}_t - \tilde{S}_{t-1}) > 0) = \P(V_T^\phi/B_T > 0) > 0\).
\end{proof}

\begin{exercise}
    We assume a financial markets with \(T=2\) periods and a RA with \(B_0 = B_1 = B_2 = 1\).
\end{exercise}


\section{The Cox--Ross--Rubinstein model}
\section{Absence of arbitrage and equivalent martingale measures}
\section{Completeness and equivalent martingale measures}
\section{Risk--neutral pricing of contingent claims}
\section{American options}
\section{Portfolio optimization}

\end{document}